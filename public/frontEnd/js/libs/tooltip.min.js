/*! UniCore 3.15.20 | https://unistudio.co | (c) 2023 - 2023 UniStudio | MIT License */
!function(t,i){"object"==typeof exports&&typeof module<"u"?module.exports=i(require("uikit-util")):"function"==typeof define&&define.amd?define("uikittooltip",["uikit-util"],i):(t=typeof globalThis<"u"?globalThis:t||self).UniCoreTooltip=i(t.UniCore.util)}(this,(function(t){"use strict";function i(i,s,{_toggle:e}){return t.Animation.cancel(i),t.Transition.cancel(i),e(i,s)}async function s(i,s,{animation:e,duration:o,velocity:n,transition:r,_toggle:l}){var h;const[a="reveal",c="top"]=(null==(h=e[0])?void 0:h.split("-"))||[],d=[["left","right"],["top","bottom"]],p=d[t.includes(d[0],c)?0:1],f=p[1]===c,u=["width","height"][d.indexOf(p)],g=`margin-${p[0]}`,m=`margin-${c}`;let w=t.dimensions(i)[u];const b=t.Transition.inProgress(i);await t.Transition.cancel(i),s&&l(i,!0);const v=Object.fromEntries(["padding","border","width","height","minWidth","minHeight","overflowY","overflowX",g,m].map((t=>[t,i.style[t]]))),$=t.dimensions(i),y=t.toFloat(t.css(i,g)),T=t.toFloat(t.css(i,m)),x=$[u]+T;!b&&!s&&(w+=T);const[C]=t.wrapInner(i,"<div>");t.css(C,{boxSizing:"border-box",height:$.height,width:$.width,...t.css(i,["overflow","padding","borderTop","borderRight","borderBottom","borderLeft","borderImage",m])}),t.css(i,{padding:0,border:0,minWidth:0,minHeight:0,[m]:0,width:$.width,height:$.height,overflow:"hidden",[u]:w});const P=w/x;o=(n*x+o)*(s?1-P:P);const _={[u]:s?x:0};f&&(t.css(i,g,x-w+y),_[g]=s?y:x+y),!f^"reveal"===a&&(t.css(C,g,-x+w),t.Transition.start(C,{[g]:s?0:-x},o,r));try{await t.Transition.start(i,_,o,r)}finally{t.css(i,v),t.unwrap(C.firstChild),s||l(i,!1)}}function e(i,s,e){t.Animation.cancel(i);const{animation:o,duration:n,_toggle:r}=e;return s?(r(i,!0),t.Animation.in(i,o[0],n,e.origin)):t.Animation.out(i,o[1]||o[0],n,e.origin).then((()=>r(i,!1)))}var o={mixins:[{props:{container:Boolean},data:{container:!0},computed:{container({container:i}){return!0===i&&this.$container||i&&t.$(i)}}},{props:{cls:Boolean,animation:"list",duration:Number,velocity:Number,origin:String,transition:String},data:{cls:!1,animation:[!1],duration:200,velocity:.2,origin:!1,transition:"ease",clsEnter:"uc-togglabe-enter",clsLeave:"uc-togglabe-leave"},computed:{hasAnimation:({animation:t})=>!!t[0],hasTransition:({animation:i})=>["slide","reveal"].some((s=>t.startsWith(i[0],s)))},methods:{toggleElement(o,n,r){return new Promise((l=>Promise.all(t.toNodes(o).map((o=>{const l=t.isBoolean(n)?n:!this.isToggled(o);if(!t.trigger(o,"before"+(l?"show":"hide"),[this]))return Promise.reject();const h=(t.isFunction(r)?r:!1!==r&&this.hasAnimation?this.hasTransition?s:e:i)(o,l,this),a=l?this.clsEnter:this.clsLeave;t.addClass(o,a),t.trigger(o,l?"show":"hide",[this]);const c=()=>{t.removeClass(o,a),t.trigger(o,l?"shown":"hidden",[this])};return h?h.then(c,(()=>(t.removeClass(o,a),Promise.reject()))):c()}))).then(l,t.noop)))},isToggled(i=this.$el){return[i]=t.toNodes(i),!!t.hasClass(i,this.clsEnter)||!t.hasClass(i,this.clsLeave)&&(this.cls?t.hasClass(i,this.cls.split(" ")[0]):t.isVisible(i))},_toggle(i,s){if(!i)return;let e;s=Boolean(s),this.cls?(e=t.includes(this.cls," ")||s!==t.hasClass(i,this.cls),e&&t.toggleClass(i,this.cls,t.includes(this.cls," ")?void 0:s)):(e=s===i.hidden,e&&(i.hidden=!s)),t.$$("[autofocus]",i).some((i=>t.isVisible(i)?i.focus()||!0:i.blur())),e&&t.trigger(i,"toggled",[s,this])}}},{props:{pos:String,offset:null,flip:Boolean,shift:Boolean,inset:Boolean},data:{pos:"bottom-"+(t.isRtl?"right":"left"),offset:!1,flip:!0,shift:!0,inset:!1},connected(){this.pos=this.$props.pos.split("-").concat("center").slice(0,2),[this.dir,this.align]=this.pos,this.axis=t.includes(["top","bottom"],this.dir)?"y":"x"},methods:{positionAt(i,s,e){let o=[this.getPositionOffset(i),this.getShiftOffset(i)];const n=[this.flip&&"flip",this.shift&&"shift"],r={element:[this.inset?this.dir:t.flipPosition(this.dir),this.align],target:[this.dir,this.align]};if("y"===this.axis){for(const t in r)r[t].reverse();o.reverse(),n.reverse()}const[l]=t.scrollParents(i,/auto|scroll/),{scrollTop:h,scrollLeft:a}=l,c=t.dimensions(i);t.css(i,{top:-c.height,left:-c.width}),t.positionAt(i,s,{attach:r,offset:o,boundary:e,placement:n,viewportOffset:this.getViewportOffset(i)}),l.scrollTop=h,l.scrollLeft=a},getPositionOffset(i){return t.toPx(!1===this.offset?t.css(i,"--uc-position-offset"):this.offset,"x"===this.axis?"width":"height",i)*(t.includes(["left","top"],this.dir)?-1:1)*(this.inset?-1:1)},getShiftOffset(i){return"center"===this.align?0:t.toPx(t.css(i,"--uc-position-shift-offset"),"y"===this.axis?"width":"height",i)*(t.includes(["left","top"],this.align)?1:-1)},getViewportOffset:i=>t.toPx(t.css(i,"--uc-position-viewport-offset"))}}],args:"title",props:{delay:Number,title:String},data:{pos:"top",title:"",delay:0,animation:["uc-animation-scale-up"],duration:100,cls:"uc-active"},beforeConnect(){var i;this.id=`uc-tooltip-${this._uid}`,this._hasTitle=t.hasAttr(this.$el,"title"),t.attr(this.$el,{title:"","aria-describedby":this.id}),i=this.$el,t.isFocusable(i)||t.attr(i,"tabindex","0")},disconnected(){this.hide(),t.attr(this.$el,"title")||t.attr(this.$el,"title",this._hasTitle?this.title:null)},methods:{show(){this.isToggled(this.tooltip||null)||!this.title||(this._unbind=t.once(document,`keydown ${t.pointerDown}`,this.hide,!1,(i=>i.type===t.pointerDown&&!t.within(i.target,this.$el)||"keydown"===i.type&&27===i.keyCode)),clearTimeout(this.showTimer),this.showTimer=setTimeout(this._show,this.delay))},async hide(){t.matches(this.$el,"input:focus")||(clearTimeout(this.showTimer),this.isToggled(this.tooltip||null)&&(await this.toggleElement(this.tooltip,!1,!1),t.remove(this.tooltip),this.tooltip=null,this._unbind()))},_show(){this.tooltip=t.append(this.container,`<div id="${this.id}" class="uc-${this.$options.name}" role="tooltip"> <div class="uc-${this.$options.name}-inner">${this.title}</div> </div>`),t.on(this.tooltip,"toggled",((i,s)=>{if(!s)return;this.positionAt(this.tooltip,this.$el);const[e,o]=function(i,s,[e,o]){const n=t.offset(i),r=t.offset(s),l=[["left","right"],["top","bottom"]];for(const t of l){if(n[t[0]]>=r[t[1]]){e=t[1];break}if(n[t[1]]<=r[t[0]]){e=t[0];break}}const h=t.includes(l[0],e)?l[1]:l[0];return o=n[h[0]]===r[h[0]]?h[0]:n[h[1]]===r[h[1]]?h[1]:"center",[e,o]}(this.tooltip,this.$el,this.pos);this.origin="y"===this.axis?`${t.flipPosition(e)}-${o}`:`${o}-${t.flipPosition(e)}`})),this.toggleElement(this.tooltip,!0)}},events:{focus:"show",blur:"hide",[`${t.pointerEnter} ${t.pointerLeave}`](i){t.isTouch(i)||this[i.type===t.pointerEnter?"show":"hide"]()},[t.pointerDown](i){t.isTouch(i)&&this.show()}}};return typeof window<"u"&&window.UniCore&&window.UniCore.component("tooltip",o),o}));