{const e=()=>{document.documentElement.style.setProperty("--body-scroll-width",window.innerWidth-document.documentElement.clientWidth+"px")};window.addEventListener("resize",e),e()}{const e=$(window),t=t=>{const a=e.height()||0,o=t.height()||0,n=(t.offset()||{top:0}).top,s=n+o,r=e.scrollTop()||0,l=r+a,i=o-(Math.max(s,l)-Math.min(n,r)-a);return i<=0?0:i/o},a=.25,o=$("[data-viewport-dark]").toArray().map((e=>({ratio:parseFloat(e.getAttribute("data-viewport-dark")||"")||a,$el:$(e)})));if(o.length){const a=()=>{const e=o.some((e=>t(e.$el)>e.ratio));setDarkMode(e)};e.on("scroll resize load",a),a()}}document.body.classList.toggle("uni-is-login","1"===localStorage.getItem("is-login")),document.querySelectorAll(".uni-login-form, .uni-signup-form").forEach((e=>{e.addEventListener("submit",(e=>{localStorage.setItem("is-login","1")}))})),document.querySelectorAll(".uni-logout-link").forEach((e=>{e.addEventListener("click",(async e=>{e.preventDefault(),localStorage.removeItem("is-login"),location.reload()}))}));{const e=document.querySelectorAll("[data-image-hover-revealer]"),t=17,a=400,o=!0,n=document.createElement("img");let s,r;n.alt="",n.className="image-hover-revealer",document.body.append(n);let l=!1;e.forEach((e=>{if(!(e instanceof HTMLElement))return;if(!(n instanceof Image))return;const i=e.getAttribute("data-image-hover-revealer");e.addEventListener("mouseover",(()=>{n.setAttribute("src",i),n.classList.add("uk-active"),s=Date.now(),l=!0,clearTimeout(r)})),window.addEventListener("mousemove",(e=>{if(!l)return;let a=e.pageX,s=e.pageY;const r=n.clientWidth,i=n.clientHeight;a+r>=window.scrollX+window.innerWidth-t&&(o?a-=r:a=window.innerWidth-t-r),s+i>=window.scrollY+window.innerHeight&&(o?s-=i:s=window.scrollY+window.innerHeight-i),n.style.setProperty("--move-x",a+"px"),n.style.setProperty("--move-y",s+"px")})),e.addEventListener("mouseleave",(()=>{const e=Date.now()-s;r=setTimeout((()=>{n.classList.remove("uk-active"),r=setTimeout((()=>{l=!1,n.style.setProperty("--move-x","0px"),n.style.setProperty("--move-y","0px")}),a)}),Math.max(0,a-e))}))}))}const stickyItemContrast=(e,t,a,o={})=>{o=Object.assign({black:"contrast-black",white:"contrast-white"},o);const n=(e=>{const t={};return a=>{if(null!=t[a])return t[a];{const o=e(a);return t[a]=o,o}}})((e=>{if(!e.startsWith("rgb("))return"black";const t=e.slice(4,-1).split(",").map(Number);return(299*t[0]+587*t[1]+114*t[2])/1e3>=128?"black":"white"})),s=$(window);let r="";const l=()=>{const s="function"==typeof a?a(t):a,l=e.map((e=>e instanceof HTMLElement&&window.scrollY+s>=e.offsetTop)).lastIndexOf(!0);if(-1===l)return;const i=(e=>{let t="";for(;e&&(t=window.getComputedStyle(e,null).getPropertyValue("background-color"),/rgba\(.*?,\s*0\)$/.test(t));)e=e.parentElement;return t})(e[l]),d=n(i);r!==d&&o[r]&&t.classList.remove(o[r]),o[d]&&t.classList.add(o[d]),r=d};s.on("scroll resize load darkmodechange",l),l()},getElementParents=e=>{const t=[];for(;e=e.parentNode;)t.push(e);return t},stickyItemsDarkMode=(e,t)=>{const a=[...document.querySelectorAll('.uk-section, [class*="uk-section-"]')],o=[...document.querySelectorAll(e)];for(const e of o)stickyItemContrast(a,e,t,{black:"",white:"uc-dark"})};stickyItemsDarkMode(".uni-header, .uni-sticky-menu, .uni-header-social",(e=>e.offsetTop+e.clientHeight/2)),stickyItemsDarkMode(".uni-header-location, .uni-header-section-indicator",(()=>window.innerHeight/2));{const e=document.querySelector(".uni-header-section-indicator");if(e){const t=[...e.querySelectorAll("li[data-selector]")].map((e=>document.querySelector(e.getAttribute("data-selector")))),a=$(window);let o=0;const n=()=>{const a=window.innerHeight/2,n=t.map((e=>e instanceof HTMLElement&&window.scrollY+a>=e.offsetTop)).lastIndexOf(!0);-1!==n&&o!==n&&(o=n,e.style.setProperty("--section-indicator-index",o+""))};a.on("scroll resize load darkmodechange",n),n()}}document.querySelectorAll("[data-darkmode-toggle] input").forEach((e=>{e.addEventListener("change",(()=>{setDarkMode(!isDarkMode());const e=isDarkMode();localStorage.setItem("darkMode",e?"1":"0")})),e.checked=isDarkMode()})),document.querySelectorAll("[data-darkmode-switch] input").forEach((e=>{e.addEventListener("change",(()=>{setDarkMode(!isDarkMode());const e=isDarkMode();localStorage.setItem("darkMode",e?"1":"0")})),e.checked=isDarkMode()})),$(".uk-horizontal-scroll").each((function(e,t){t.addEventListener("wheel",(e=>{e.preventDefault(),t.scrollBy(e.deltaY,0)}))}));{const e=(e,t=1)=>{let a;return function(...o){clearTimeout(a),a=setTimeout((()=>e.call(this,...o)),t)}},t=$(document);$(".search-form").each((function(){const a=$(this),o=a.find('input[name="s"]'),n=a.find(".search-clear"),s=a.find(".search-results"),r=s.find(".search-results-content"),l=s.find(".search-results-loading");let i,d="",c=!1;const u=()=>{c&&(c=!1,l.addClass("uk-hidden"),r.removeClass("uk-hidden"))},m=e((()=>{if(!g)return;const e=o.val()+"";if(d===e)return void u();i&&i.abort();const t=Date.now();d=e,i=$.ajax({type:a.attr("method"),url:a.attr("action"),data:a.serialize()}).done((function(a){o.val()===e&&setTimeout((()=>{o.val()===e&&(r.html(a),u(),i=null)}),Math.max(0,500-(Date.now()-t)))})).fail((function(e){}))}),250);let g=!s.hasClass("uk-hidden");const h=()=>{s.addClass("uk-hidden"),t.off("click mousedown scroll",f),g=!1},f=e=>{$(e.target).parents(".search-results, .search-form").length||h()},p=()=>{s.removeClass("uk-hidden"),t.on("click mousedown scroll",f),g=!0};a.on("submit",(e=>{e.preventDefault()})).on("input",(e=>{const t=o.val();c||(c=!0,l.removeClass("uk-hidden"),r.addClass("uk-hidden")),m(),t?n.removeClass("uk-hidden"):n.addClass("uk-hidden"),!g&&t?p():g&&!t&&(h(),r.addClass("uk-hidden"))})),n.on("click",(e=>{o.val("").trigger("input")})),o.on("focus",(e=>{o.val()&&(g||p())}))}))}document.addEventListener("DOMContentLoaded",(e=>{$("[data-toggle-active]").on("click",(function(e){e.preventDefault();const t=$(this);t.toggleClass("active").hasClass("active")?(t.removeClass(t.attr("data-not-active-class")),t.addClass(t.attr("data-active-class"))):(t.removeClass(t.attr("data-active-class")),t.addClass(t.attr("data-not-active-class")))}))})),$("[data-toggle-loading]").on("click",(function(e){e.preventDefault();const t=this,a=$(this);if(a.hasClass("loading")||a.hasClass("no-more-loading")||!t.toggleLoadingClick||!t.toggleLoadingInsertData)return;a.addClass("loading"),a.addClass(a.attr("data-loading-class")),a.removeClass(a.attr("data-not-loading-class"));const o=t.toggleLoadingClick();setTimeout((()=>{o.then((e=>{t.toggleLoadingInsertData(e)?(a.attr("disabled",""),a.removeClass("loading"),a.addClass("no-more-loading"),a.removeClass(a.attr("data-loading-class")),a.addClass(a.attr("data-no-more-loading-class"))):(a.removeClass("loading"),a.removeClass(a.attr("data-loading-class")),a.addClass(a.attr("data-not-loading-class")))}))}),500)})),document.querySelectorAll("[data-load-more]").forEach((e=>{const t=e,a=document.querySelector(t.getAttribute("data-load-more-container")),o=t.getAttribute("data-load-more");let n=1;t.toggleLoadingClick=()=>(console.log("url",o),fetch(o.replace(/%page%/g,++n+"")).then((e=>e.text()))),t.toggleLoadingInsertData=e=>{if(e=e.replace(/<script type="module" src="\/@vite\/client"><\/script>/,""),a.insertAdjacentHTML("beforeend",e),!e.trim())return!0}}));var playing=!1;$("#uni-audio-play-pause").on("click",(function(e){e.preventDefault(),$(this).find(".uni-icon-bars").toggleClass("playing"),0==playing?(document.getElementById("uni-background-audio").play(),playing=!0):(document.getElementById("uni-background-audio").pause(),playing=!1)}));